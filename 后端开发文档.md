# 教务管理系统后端开发文档

**作者：shujin**  
**联系方式：adilei.shujin@gmail.com**

## 1. 项目概述

### 1.1 项目简介
本项目为一套完整的教务/教培管理系统后端服务，提供教师、学生、课程、班级、排课、财务、公告等核心功能的API接口。支持与前端Vue3应用无缝集成，实现前后端分离架构。

### 1.2 技术栈
- **开发语言**: Java 17+
- **框架**: Spring Boot 3.x
- **数据库**: MySQL 8.0+
- **ORM**: MyBatis-Plus 3.5+
- **安全框架**: Spring Security + JWT
- **缓存**: Redis 6.0+
- **文档**: Swagger 3.0 (OpenAPI)
- **构建工具**: Maven 3.8+
- **容器化**: Docker

### 1.3 项目结构
```
backend/
├── src/main/java/com/education/
│   ├── EducationApplication.java          # 启动类
│   ├── config/                           # 配置类
│   │   ├── SecurityConfig.java           # 安全配置
│   │   ├── RedisConfig.java              # Redis配置
│   │   ├── SwaggerConfig.java            # API文档配置
│   │   └── CorsConfig.java               # 跨域配置
│   ├── controller/                       # 控制器层
│   │   ├── TeacherController.java        # 教师管理
│   │   ├── StudentController.java        # 学生管理
│   │   ├── CourseController.java         # 课程管理
│   │   ├── ClassController.java          # 班级管理
│   │   ├── ScheduleController.java       # 排课管理
│   │   ├── FinanceController.java        # 财务管理
│   │   ├── NoticeController.java         # 公告管理
│   │   └── AuthController.java           # 认证管理
│   ├── service/                          # 服务层
│   │   ├── impl/                         # 服务实现
│   │   ├── TeacherService.java
│   │   ├── StudentService.java
│   │   ├── CourseService.java
│   │   ├── ClassService.java
│   │   ├── ScheduleService.java
│   │   ├── FinanceService.java
│   │   ├── NoticeService.java
│   │   └── AuthService.java
│   ├── mapper/                           # 数据访问层
│   │   ├── TeacherMapper.java
│   │   ├── StudentMapper.java
│   │   ├── CourseMapper.java
│   │   ├── ClassMapper.java
│   │   ├── ScheduleMapper.java
│   │   ├── FinanceMapper.java
│   │   └── NoticeMapper.java
│   ├── entity/                           # 实体类
│   │   ├── Teacher.java
│   │   ├── Student.java
│   │   ├── Course.java
│   │   ├── Class.java
│   │   ├── Schedule.java
│   │   ├── Finance.java
│   │   └── Notice.java
│   ├── dto/                              # 数据传输对象
│   │   ├── request/                      # 请求DTO
│   │   └── response/                     # 响应DTO
│   ├── vo/                               # 视图对象
│   ├── common/                           # 公共组件
│   │   ├── Result.java                   # 统一响应结果
│   │   ├── PageResult.java               # 分页结果
│   │   ├── exception/                    # 异常处理
│   │   ├── utils/                        # 工具类
│   │   └── enums/                        # 枚举类
│   └── security/                         # 安全相关
│       ├── JwtTokenProvider.java
│       ├── UserDetailsServiceImpl.java
│       └── JwtAuthenticationFilter.java
├── src/main/resources/
│   ├── application.yml                   # 主配置文件
│   ├── application-dev.yml               # 开发环境配置
│   ├── application-prod.yml              # 生产环境配置
│   ├── mapper/                           # MyBatis映射文件
│   └── sql/                              # 数据库脚本
└── pom.xml                               # Maven配置
```

---

## 2. 数据库设计

### 2.1 数据库表结构

#### 2.1.1 用户表 (sys_user)
```sql
CREATE TABLE `sys_user` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '用户ID',
  `username` varchar(50) NOT NULL COMMENT '用户名',
  `password` varchar(100) NOT NULL COMMENT '密码',
  `real_name` varchar(50) DEFAULT NULL COMMENT '真实姓名',
  `email` varchar(100) DEFAULT NULL COMMENT '邮箱',
  `phone` varchar(20) DEFAULT NULL COMMENT '手机号',
  `avatar` varchar(255) DEFAULT NULL COMMENT '头像',
  `status` tinyint DEFAULT '1' COMMENT '状态(0:禁用,1:启用)',
  `role` varchar(20) DEFAULT 'USER' COMMENT '角色(ADMIN,TEACHER,STUDENT)',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_username` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用户表';
```

#### 2.1.2 教师表 (teacher)
```sql
CREATE TABLE `teacher` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '教师ID',
  `user_id` bigint NOT NULL COMMENT '用户ID',
  `name` varchar(50) NOT NULL COMMENT '教师姓名',
  `gender` tinyint DEFAULT NULL COMMENT '性别(0:女,1:男)',
  `age` int DEFAULT NULL COMMENT '年龄',
  `phone` varchar(20) DEFAULT NULL COMMENT '手机号',
  `email` varchar(100) DEFAULT NULL COMMENT '邮箱',
  `specialty` varchar(100) DEFAULT NULL COMMENT '专业特长',
  `education` varchar(50) DEFAULT NULL COMMENT '学历',
  `experience` int DEFAULT '0' COMMENT '教学经验(年)',
  `avatar` varchar(255) DEFAULT NULL COMMENT '头像',
  `status` tinyint DEFAULT '1' COMMENT '状态(0:离职,1:在职)',
  `join_date` date DEFAULT NULL COMMENT '入职日期',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='教师表';
```

#### 2.1.3 学生表 (student)
```sql
CREATE TABLE `student` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '学生ID',
  `user_id` bigint DEFAULT NULL COMMENT '用户ID',
  `name` varchar(50) NOT NULL COMMENT '学生姓名',
  `student_no` varchar(20) NOT NULL COMMENT '学号',
  `gender` tinyint DEFAULT NULL COMMENT '性别(0:女,1:男)',
  `age` int DEFAULT NULL COMMENT '年龄',
  `phone` varchar(20) DEFAULT NULL COMMENT '手机号',
  `email` varchar(100) DEFAULT NULL COMMENT '邮箱',
  `parent_name` varchar(50) DEFAULT NULL COMMENT '家长姓名',
  `parent_phone` varchar(20) DEFAULT NULL COMMENT '家长手机号',
  `address` varchar(255) DEFAULT NULL COMMENT '地址',
  `school` varchar(100) DEFAULT NULL COMMENT '就读学校',
  `grade` varchar(20) DEFAULT NULL COMMENT '年级',
  `level` varchar(20) DEFAULT '初级' COMMENT '编程水平(初级,中级,高级)',
  `status` tinyint DEFAULT '1' COMMENT '状态(0:退学,1:在读)',
  `enroll_date` date DEFAULT NULL COMMENT '入学日期',
  `avatar` varchar(255) DEFAULT NULL COMMENT '头像',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_student_no` (`student_no`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='学生表';
```

#### 2.1.4 课程表 (course)
```sql
CREATE TABLE `course` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '课程ID',
  `name` varchar(100) NOT NULL COMMENT '课程名称',
  `code` varchar(20) NOT NULL COMMENT '课程代码',
  `category` varchar(50) NOT NULL COMMENT '课程分类',
  `price` decimal(10,2) NOT NULL COMMENT '课程价格',
  `duration` int NOT NULL COMMENT '课时数',
  `age_range` varchar(20) DEFAULT NULL COMMENT '适合年龄范围',
  `difficulty` varchar(20) DEFAULT '初级' COMMENT '难度等级(初级,中级,高级)',
  `description` text COMMENT '课程描述',
  `syllabus` json DEFAULT NULL COMMENT '教学大纲',
  `cover` varchar(255) DEFAULT NULL COMMENT '课程封面',
  `status` tinyint DEFAULT '1' COMMENT '状态(0:下架,1:上架)',
  `max_students` int DEFAULT 20 COMMENT '最大学生数',
  `current_students` int DEFAULT 0 COMMENT '当前学生数',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_code` (`code`),
  KEY `idx_category` (`category`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='课程表';
```

#### 2.1.5 班级表 (class)
```sql
CREATE TABLE `class` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '班级ID',
  `name` varchar(100) NOT NULL COMMENT '班级名称',
  `course_id` bigint NOT NULL COMMENT '课程ID',
  `teacher_id` bigint NOT NULL COMMENT '教师ID',
  `max_students` int DEFAULT 20 COMMENT '最大学生数',
  `current_students` int DEFAULT 0 COMMENT '当前学生数',
  `status` tinyint DEFAULT '1' COMMENT '状态(0:已结束,1:进行中,2:未开始)',
  `start_date` date DEFAULT NULL COMMENT '开班日期',
  `end_date` date DEFAULT NULL COMMENT '结班日期',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  KEY `idx_course_id` (`course_id`),
  KEY `idx_teacher_id` (`teacher_id`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='班级表';
```

#### 2.1.6 排课表 (schedule)
```sql
CREATE TABLE `schedule` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '排课ID',
  `class_id` bigint NOT NULL COMMENT '班级ID',
  `course_id` bigint NOT NULL COMMENT '课程ID',
  `teacher_id` bigint NOT NULL COMMENT '教师ID',
  `schedule_date` date NOT NULL COMMENT '上课日期',
  `start_time` time NOT NULL COMMENT '开始时间',
  `end_time` time NOT NULL COMMENT '结束时间',
  `classroom` varchar(50) DEFAULT NULL COMMENT '教室',
  `topic` varchar(200) DEFAULT NULL COMMENT '课程主题',
  `status` tinyint DEFAULT '0' COMMENT '状态(0:未开始,1:进行中,2:已结束,3:已取消)',
  `periods` int DEFAULT 1 COMMENT '课时数',
  `max_students` int DEFAULT 20 COMMENT '最大学生数',
  `current_students` int DEFAULT 0 COMMENT '当前学生数',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  KEY `idx_class_id` (`class_id`),
  KEY `idx_course_id` (`course_id`),
  KEY `idx_teacher_id` (`teacher_id`),
  KEY `idx_schedule_date` (`schedule_date`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='排课表';
```

#### 2.1.7 财务记录表 (finance)
```sql
CREATE TABLE `finance` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '财务记录ID',
  `date` date NOT NULL COMMENT '记录日期',
  `type` varchar(20) NOT NULL COMMENT '类型(income:收入,expense:支出)',
  `category` varchar(50) NOT NULL COMMENT '分类',
  `category_name` varchar(50) NOT NULL COMMENT '分类名称',
  `amount` decimal(10,2) NOT NULL COMMENT '金额',
  `related_id` varchar(50) DEFAULT NULL COMMENT '关联ID',
  `related_name` varchar(100) DEFAULT NULL COMMENT '关联名称',
  `description` varchar(500) DEFAULT NULL COMMENT '描述',
  `status` varchar(20) DEFAULT 'pending' COMMENT '状态(pending:待审核,approved:已通过,rejected:已拒绝)',
  `created_by` varchar(50) DEFAULT NULL COMMENT '创建人',
  `remark` varchar(500) DEFAULT NULL COMMENT '备注',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  KEY `idx_date` (`date`),
  KEY `idx_type` (`type`),
  KEY `idx_category` (`category`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='财务记录表';
```

#### 2.1.8 公告表 (notice)
```sql
CREATE TABLE `notice` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '公告ID',
  `title` varchar(200) NOT NULL COMMENT '公告标题',
  `content` text NOT NULL COMMENT '公告内容',
  `author` varchar(50) DEFAULT NULL COMMENT '作者',
  `important` tinyint DEFAULT '0' COMMENT '是否重要(0:否,1:是)',
  `status` tinyint DEFAULT '1' COMMENT '状态(0:下架,1:上架)',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  KEY `idx_status` (`status`),
  KEY `idx_important` (`important`),
  KEY `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='公告表';
```

### 2.2 数据库索引优化
- 为常用查询字段添加索引
- 使用复合索引优化多字段查询
- 定期分析慢查询日志，优化索引策略

---

## 3. API接口规范

### 3.1 统一响应格式

#### 3.1.1 成功响应
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    // 具体数据
  },
  "timestamp": "2025-07-27T10:30:00.000Z"
}
```

#### 3.1.2 分页响应
```json
{
  "code": 200,
  "message": "查询成功",
  "data": {
    "records": [
      // 数据列表
    ],
    "pagination": {
      "current": 1,
      "size": 10,
      "total": 100
    }
  },
  "timestamp": "2025-07-27T10:30:00.000Z"
}
```

#### 3.1.3 错误响应
```json
{
  "code": 400,
  "message": "参数错误",
  "data": null,
  "timestamp": "2025-07-27T10:30:00.000Z"
}
```

### 3.2 状态码规范
- **200**: 成功
- **400**: 请求参数错误
- **401**: 未授权
- **403**: 禁止访问
- **404**: 资源不存在
- **500**: 服务器内部错误

### 3.3 分页参数
- **page**: 页码，从1开始
- **size**: 每页大小，默认10
- **sort**: 排序字段
- **order**: 排序方向(asc/desc)

---

## 4. 核心API接口

### 4.1 认证管理

#### 4.1.1 用户登录
```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "123456"
}
```

#### 4.1.2 用户注册
```http
POST /api/auth/register
Content-Type: application/json

{
  "username": "teacher001",
  "password": "123456",
  "realName": "张老师",
  "email": "teacher@example.com",
  "role": "TEACHER"
}
```

#### 4.1.3 获取用户信息
```http
GET /api/auth/profile
Authorization: Bearer {token}
```

### 4.2 教师管理

#### 4.2.1 获取教师列表
```http
GET /api/teachers?page=1&size=10&name=张&status=1
Authorization: Bearer {token}
```

#### 4.2.2 添加教师
```http
POST /api/teachers
Content-Type: application/json
Authorization: Bearer {token}

{
  "name": "张老师",
  "gender": 1,
  "age": 30,
  "phone": "13800138001",
  "email": "zhang@example.com",
  "specialty": "Python编程",
  "education": "本科",
  "experience": 5
}
```

#### 4.2.3 更新教师信息
```http
PUT /api/teachers/{id}
Content-Type: application/json
Authorization: Bearer {token}

{
  "name": "张老师",
  "phone": "13800138002",
  "specialty": "Python编程,Java编程"
}
```

#### 4.2.4 删除教师
```http
DELETE /api/teachers/{id}
Authorization: Bearer {token}
```

### 4.3 学生管理

#### 4.3.1 获取学生列表
```http
GET /api/students?page=1&size=10&name=李&status=1
Authorization: Bearer {token}
```

#### 4.3.2 添加学生
```http
POST /api/students
Content-Type: application/json
Authorization: Bearer {token}

{
  "name": "李同学",
  "studentNo": "S2023001",
  "gender": 1,
  "age": 15,
  "phone": "13800138001",
  "email": "li@example.com",
  "parentName": "李父",
  "parentPhone": "13900139001",
  "school": "北京市第一中学",
  "grade": "高一",
  "level": "初级"
}
```

#### 4.3.3 更新学生信息
```http
PUT /api/students/{id}
Content-Type: application/json
Authorization: Bearer {token}

{
  "phone": "13800138002",
  "level": "中级"
}
```

#### 4.3.4 删除学生
```http
DELETE /api/students/{id}
Authorization: Bearer {token}
```

### 4.4 课程管理

#### 4.4.1 获取课程列表
```http
GET /api/courses?page=1&size=10&category=编程基础&status=1
Authorization: Bearer {token}
```

#### 4.4.2 添加课程
```http
POST /api/courses
Content-Type: application/json
Authorization: Bearer {token}

{
  "name": "Python基础入门",
  "code": "PY001",
  "category": "编程基础",
  "price": 3600.00,
  "duration": 16,
  "ageRange": "14-18岁",
  "difficulty": "初级",
  "description": "Python编程语言基础入门课程",
  "maxStudents": 20
}
```

#### 4.4.3 更新课程
```http
PUT /api/courses/{id}
Content-Type: application/json
Authorization: Bearer {token}

{
  "price": 3800.00,
  "description": "Python编程语言基础入门课程，适合初学者"
}
```

#### 4.4.4 删除课程
```http
DELETE /api/courses/{id}
Authorization: Bearer {token}
```

### 4.5 班级管理

#### 4.5.1 获取班级列表
```http
GET /api/classes?page=1&size=10&courseId=1&status=1
Authorization: Bearer {token}
```

#### 4.5.2 添加班级
```http
POST /api/classes
Content-Type: application/json
Authorization: Bearer {token}

{
  "name": "Python-A班",
  "courseId": 1,
  "teacherId": 1,
  "maxStudents": 20,
  "startDate": "2025-08-01",
  "endDate": "2025-12-31"
}
```

#### 4.5.3 更新班级
```http
PUT /api/classes/{id}
Content-Type: application/json
Authorization: Bearer {token}

{
  "maxStudents": 25,
  "status": 1
}
```

#### 4.5.4 删除班级
```http
DELETE /api/classes/{id}
Authorization: Bearer {token}
```

### 4.6 排课管理

#### 4.6.1 获取排课列表
```http
GET /api/schedules?page=1&size=10&classId=1&scheduleDate=2025-07-27
Authorization: Bearer {token}
```

#### 4.6.2 添加排课
```http
POST /api/schedules
Content-Type: application/json
Authorization: Bearer {token}

{
  "classId": 1,
  "courseId": 1,
  "teacherId": 1,
  "scheduleDate": "2025-07-28",
  "startTime": "09:00:00",
  "endTime": "11:00:00",
  "classroom": "A教室",
  "topic": "Python环境安装与基础语法",
  "periods": 2
}
```

#### 4.6.3 批量排课
```http
POST /api/schedules/batch
Content-Type: application/json
Authorization: Bearer {token}

{
  "classId": 1,
  "courseId": 1,
  "teacherId": 1,
  "startDate": "2025-08-01",
  "endDate": "2025-08-31",
  "startTime": "09:00:00",
  "endTime": "11:00:00",
  "classroom": "A教室",
  "repeatType": 1,
  "repeatDays": [1, 3, 5],
  "periods": 2
}
```

#### 4.6.4 更新排课
```http
PUT /api/schedules/{id}
Content-Type: application/json
Authorization: Bearer {token}

{
  "classroom": "B教室",
  "topic": "变量与数据类型",
  "status": 1
}
```

#### 4.6.5 删除排课
```http
DELETE /api/schedules/{id}
Authorization: Bearer {token}
```

### 4.7 财务管理

#### 4.7.1 获取财务记录列表
```http
GET /api/finance?page=1&size=10&type=income&date=2025-07-27
Authorization: Bearer {token}
```

#### 4.7.2 添加财务记录
```http
POST /api/finance
Content-Type: application/json
Authorization: Bearer {token}

{
  "date": "2025-07-27",
  "type": "income",
  "category": "tuition",
  "categoryName": "学费",
  "amount": 2400.00,
  "relatedId": "class_1",
  "relatedName": "Python-A班",
  "description": "张三学费缴纳"
}
```

#### 4.7.3 更新财务记录
```http
PUT /api/finance/{id}
Content-Type: application/json
Authorization: Bearer {token}

{
  "amount": 2600.00,
  "description": "张三学费缴纳（含教材费）",
  "status": "approved"
}
```

#### 4.7.4 删除财务记录
```http
DELETE /api/finance/{id}
Authorization: Bearer {token}
```

#### 4.7.5 获取财务统计
```http
GET /api/finance/statistics?startDate=2025-07-01&endDate=2025-07-31
Authorization: Bearer {token}
```

### 4.8 公告管理

#### 4.8.1 获取公告列表
```http
GET /api/notices?page=1&size=10&important=1&status=1
Authorization: Bearer {token}
```

#### 4.8.2 添加公告
```http
POST /api/notices
Content-Type: application/json
Authorization: Bearer {token}

{
  "title": "系统维护通知",
  "content": "系统将于本周六凌晨2:00-4:00进行维护升级",
  "author": "系统管理员",
  "important": true
}
```

#### 4.8.3 更新公告
```http
PUT /api/notices/{id}
Content-Type: application/json
Authorization: Bearer {token}

{
  "title": "系统维护通知（更新）",
  "content": "系统将于本周六凌晨2:00-4:00进行维护升级，请提前保存重要数据",
  "important": true
}
```

#### 4.8.4 删除公告
```http
DELETE /api/notices/{id}
Authorization: Bearer {token}
```

---

## 5. 安全设计

### 5.1 JWT认证
- 使用JWT进行用户认证
- Token有效期：2小时
- 支持Token刷新机制
- 实现无状态认证

### 5.2 权限控制
- 基于角色的访问控制(RBAC)
- 角色：ADMIN、TEACHER、STUDENT
- 细粒度权限控制
- API级别的权限验证

### 5.3 数据安全
- 密码加密存储(BCrypt)
- 敏感数据脱敏
- SQL注入防护
- XSS攻击防护
- CSRF防护

### 5.4 接口安全
- 请求频率限制
- 参数验证
- 数据校验
- 异常处理

---

## 6. 缓存策略

### 6.1 Redis缓存
- 用户信息缓存
- 课程信息缓存
- 统计数据缓存
- 热点数据缓存

### 6.2 缓存策略
- 缓存穿透防护
- 缓存击穿防护
- 缓存雪崩防护
- 缓存更新策略

---

## 7. 性能优化

### 7.1 数据库优化
- 索引优化
- 查询优化
- 连接池配置
- 慢查询监控

### 7.2 应用优化
- 异步处理
- 线程池配置
- 内存优化
- GC优化

### 7.3 接口优化
- 分页查询
- 数据压缩
- 响应缓存
- 并发控制

---

## 8. 监控与日志

### 8.1 应用监控
- 健康检查接口
- 性能指标监控
- 业务指标监控
- 告警机制

### 8.2 日志管理
- 操作日志记录
- 错误日志记录
- 访问日志记录
- 日志分级管理

### 8.3 链路追踪
- 请求链路追踪
- 性能分析
- 问题定位
- 调用链监控

---

## 9. 部署方案

### 9.1 开发环境
```yaml
# docker-compose-dev.yml
version: '3.8'
services:
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: education
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql

  redis:
    image: redis:6.0
    ports:
      - "6379:6379"

  backend:
    build: .
    ports:
      - "8080:8080"
    environment:
      SPRING_PROFILES_ACTIVE: dev
    depends_on:
      - mysql
      - redis

volumes:
  mysql_data:
```

### 9.2 生产环境
```yaml
# docker-compose-prod.yml
version: '3.8'
services:
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_DATABASE: education
    volumes:
      - mysql_data:/var/lib/mysql
    networks:
      - backend

  redis:
    image: redis:6.0
    networks:
      - backend

  backend:
    build: .
    environment:
      SPRING_PROFILES_ACTIVE: prod
    depends_on:
      - mysql
      - redis
    networks:
      - backend

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - backend
    networks:
      - frontend
      - backend

networks:
  frontend:
  backend:

volumes:
  mysql_data:
```

---

## 10. 开发规范

### 10.1 代码规范
- 遵循阿里巴巴Java开发手册
- 使用统一的代码格式化工具
- 代码注释规范
- 命名规范

### 10.2 接口规范
- RESTful API设计
- 统一的响应格式
- 完善的错误处理
- 详细的API文档

### 10.3 测试规范
- 单元测试覆盖率>80%
- 集成测试
- 接口测试
- 性能测试

---

## 11. 项目启动

### 11.1 环境要求
- JDK 17+
- Maven 3.8+
- MySQL 8.0+
- Redis 6.0+

### 11.2 启动步骤
1. 克隆项目代码
2. 配置数据库连接
3. 执行数据库脚本
4. 配置Redis连接
5. 启动应用

### 11.3 配置文件
```yaml
# application.yml
server:
  port: 8080

spring:
  profiles:
    active: dev
  datasource:
    url: jdbc:mysql://localhost:3306/education?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai
    username: root
    password: root123
    driver-class-name: com.mysql.cj.jdbc.Driver
  redis:
    host: localhost
    port: 6379
    database: 0
  jpa:
    hibernate:
      ddl-auto: none
    show-sql: false

mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

jwt:
  secret: education-secret-key
  expiration: 7200000

logging:
  level:
    com.education: debug
```

---

## 12. 常见问题

### 12.1 数据库连接问题
- 检查数据库服务是否启动
- 验证连接参数是否正确
- 确认数据库用户权限

### 12.2 Redis连接问题
- 检查Redis服务是否启动
- 验证连接参数是否正确
- 确认Redis配置

### 12.3 接口调用问题
- 检查Token是否有效
- 验证请求参数格式
- 确认接口权限

---

## 13. 联系方式

如有问题，请联系开发团队：
- 邮箱：dev@education.com
- 电话：400-123-4567
- 技术支持群：123456789

---

*文档版本：v1.0*  
*更新时间：2025-07-27*  
*维护人员：后端开发团队* 